#!/bin/sh

if [ -z "$1" ] || [ "$1" = "--help" ] ; then
	printf "%s\\n%s\\n" \
    	"Fullscreen" \
    	"Select"
    exit 1
fi

dir=${HOME}/screenshots
file=%Y-%m-%d-%T-screenshot.png
[ ! -d "$dir" ] && mkdir "$dir"

case "$1" in
    Fullscreen)
		sleep 1
        scrot "$dir"/"$file"
        ;;
    Select)
		sleep 1
		scrot --select "$dir"/"$file"
        ;;
    rofi)
		if ! -f "$HOME/.config/tim241/bin/rofi"; then
			rofi="$HOME/.config/tim241/bin/rofi"	
		else
			rofi="$(which rofi)"
		fi
		"$0" "$("$0" | "$rofi" -dmenu \
				-mesg "-------------" \
				-p "Screenshot:")"
		;;
esac
